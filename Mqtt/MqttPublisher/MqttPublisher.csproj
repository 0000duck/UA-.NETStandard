<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>netcoreapp2.0</TargetFramework>
    <IntermediateOutputPath>$(SolutionDir)\build\obj\NetCore\$(Configuration)\$(ProjectName)\</IntermediateOutputPath>
    <AssemblyName>MqttSamplePublisher</AssemblyName>
    <RootNamespace>MqttSamplePublisher</RootNamespace>
  </PropertyGroup>

  <ItemGroup>
    <Compile Remove="DataSetWriterSettings.cs" />
    <Compile Remove="SubscriptionSettings.cs" />
  </ItemGroup>

  <ItemGroup>
    <None Remove="azure-iothub-certificate.json" />
    <None Remove="azure-iothub-sharedkey.json" />
    <None Remove="mosquito-localhost.json" />
  </ItemGroup>

  <ItemGroup>
    <Content Include="azure-iothub-certificate.json">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>
    <Content Include="azure-iothub-sharedkey.json">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>
    <Content Include="mosquito-localhost.json">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>
    <Content Include="$(SolutionDir)\packages\Opc.Ua.CertificateGenerator.1.1.338\Opc.Ua.CertificateGenerator.exe">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="M2MqttDotnetCore" Version="1.0.7" />
    <PackageReference Include="Microsoft.Azure.Devices" Version="1.6.0" />
    <PackageReference Include="Mono.Options" Version="5.3.0.1" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\..\SampleApplications\SDK\Opc.Ua.Client\Opc.Ua.Client.csproj" />
    <ProjectReference Include="..\..\SampleApplications\SDK\Opc.Ua.Configuration\Opc.Ua.Configuration.csproj" />
    <ProjectReference Include="..\..\Stack\Opc.Ua.Core\Opc.Ua.Core.csproj" />
  </ItemGroup>

  <ItemGroup>
    <None Update="localhost-connection.json">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
    <None Update="boiler01-dataset.json">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </None>
  </ItemGroup>

  <PropertyGroup Condition="'$(Configuration)|$(TargetFramework)|$(Platform)'=='Debug|netcoreapp2.0|AnyCPU'">
    <OutputPath>$(SolutionDir)\build\bin\NetCore\$(Configuration)\</OutputPath>
  </PropertyGroup>

  <PropertyGroup Condition="'$(Configuration)|$(TargetFramework)|$(Platform)'=='Release|netcoreapp2.0|AnyCPU'">
    <OutputPath>$(SolutionDir)\build\bin\NetCore\$(Configuration)\</OutputPath>
  </PropertyGroup>
  
</Project>
